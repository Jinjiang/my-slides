(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{145:function(n,e,t){var content=t(148);"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(67).default)("64b30acf",content,!1,{sourceMap:!1})},147:function(n,e,t){"use strict";var o=t(145);t.n(o).a},148:function(n,e,t){(n.exports=t(66)(!1)).push([n.i,'body{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0;color:#2c3e50}h1,h2,h3,p{margin:0 0 .5em}ol,ul{text-align:left;text-align:initial;margin:0 0 .5em .5em}img,video{max-width:80vw;max-height:60vh;border-radius:.5vw}blockquote{font-family:cursive;font-size:.6em;text-align:left;text-align:initial;background:hsla(0,0%,88.2%,.75);padding:.5em 1em;border-radius:.5vw}kbd{display:inline-block;padding:.1em .3em;color:#555;text-align:center;min-width:1em;height:1.5em;line-height:1.5;vertical-align:baseline;background-color:#fcfcfc;border:1px solid;border-color:#ccc #ccc #bbb;border-radius:.2em;box-shadow:inset 0 -1px 0 #bbb}a{font-size:.75em}small{font-size:.6em}code{font-size:.75em}credits{position:absolute;right:2vw;bottom:2vh;font-size:16px;font-style:italic;color:grey}credits:before{content:"Credits: "}.slide-content{text-align:left;text-align:initial;line-height:1.25}',""])},149:function(n,e,t){"use strict";t(97);var o=t(146),r=t(152),l=t.n(r),c=(t(25),t(14),t(51),t(155),t(26),t(96),t(153),t(154),{components:{MarkDisplay:o.a},props:{content:String},methods:{setTitle:function(n){var title=n.title;setTimeout((function(){document.title=title||"My Slides"}))}},created:function(){var n=location.search;n.length>1&&(this.src=n.substr(1))},mounted:function(){var main=this.$refs.main;new l.a(this.$el).on("swipe",(function(n){if("mouse"!==n.pointerType)switch(n.direction){case l.a.DIRECTION_LEFT:return void main.goNext();case l.a.DIRECTION_RIGHT:return void main.goPrev()}})),joyCon.start(),joyCon.on("keydown",(function(n){switch(n.code){case"left":case"down":case"A":case"B":case"plus":case"SR-L":case"SR-R":return void main.goNext();case"right":case"up":case"X":case"Y":case"minus":case"SL-L":case"SL-R":return void main.goPrev()}}))}}),m=(t(147),t(18)),component=Object(m.a)(c,(function(){var n=this.$createElement;return(this._self._c||n)("MarkDisplay",{ref:"main",attrs:{markdown:this.content,autoBaseUrl:"",autoBlankTarget:"",autoFontSize:"",keyboardCtrl:"",urlHashCtrl:"",supportPreview:""},on:{title:this.setTitle}})}),[],!1,null,null,null);e.a=component.exports},159:function(n,e,t){var content=t(369);"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(67).default)("1f3aff2b",content,!1,{sourceMap:!1})},368:function(n,e,t){"use strict";var o=t(159);t.n(o).a},369:function(n,e,t){(n.exports=t(66)(!1)).push([n.i,"body{margin:0;overflow:hidden}",""])},416:function(n,e,t){"use strict";t.r(e);var o=t(150),r=t.n(o),l=(t(151),t(146)),c=t(149);Object(l.b)((function(code){return r.a.highlightAuto(code).value||code}));var m={components:{Slides:c.a},data:function(){return{content:"# ES6开发Node模块\n\n----\n\n## ES6\n\n----\n\n### 大家常用的 ES6 特性有哪些？\n\n----\n\n`import`/`export`、`class`、解构、arrow、`const`/`let`、template strings、快捷字面量、参数默认值\n\n----\n\n`Promise`、`Object.assign`？\n\n----\n\n`for...of`？\n\n----\n\nAny else？\n\n----\n\n### 你可能会遇到……\n\n----\n\n性能问题\n\n不知道背后的实现原理\n\n----\n\n全局/重复 polyfill 问题\n\n----\n\nbabel -> [bublé](https://buble.surge.sh/guide/)\n\n----\n\n“保守治疗”\n\n有限的特性支持，无插件和配置，快速精准\n\n----\n\n额外的\n\n为什么 bublé 不支持 ES6 Modules？\n\n----\n\n因为 Node 基于 CommonJS\n\n----\n\n## Node\n\n----\n\nNode vs Browser\n\n----\n\n* window/document\n* process.env\n\n----\n\n* 打包\n* CommonJS\n\n----\n\n延伸问题\n\n* unit test\n* 独立使用每个文件\n* tree-shaking ([rollup](http://rollupjs.org))\n\n----\n\n浏览器需要打包，打包需要 tree-shaking，tree-shaking 需要 ES6 Modules\n\n----\n\nNode 需要独立使用，独立使用需要 CommonJS\n\n----\n\n测试，要么独立单元测试，基于 CommonJS，要么打包整体测试\n\n----\n\n### 结论&选择\n\n----\n\n* Node 包果断 CommonJS\n* Browser 包优先考虑 ES6 Modules\n\n----\n\n### 如果两用怎么办？\n\n----\n\n### 必须找到解决方案\n\n----\n\n想办法让 CommonJS 和 ES Modules 互转\n\n----\n\n(然后就可以随便写了)\n\n----\n\n但还是先选择了 CommonJS 更直接有效\n\n----\n\n## 步骤\n\n----\n\n* `src/*.es` ES6 源代码\n* `lib/*.js` ES5 生成码\n\n----\n\n### npm script\n\n`buble -i src -o lib`\n\n----\n\n* `npm run prepare`\n* `npm run pretest`\n* `npm run prepublish`\n\n----\n\n### 设置发布文件\n\n* `.npmignore`\n* `files` in `package.json`\n\n----\n\n### 这才是开始\n\n* lint\n* test\n* ci\n\n善用 watch\n\n----\n\n参考 [weex-vdom-tester](https://github.com/weexteam/weex-vdom-tester)\n\n----\n\n## One More Thing\n\n----\n\n### Browser\n\nwebpack + babel\n\n----\n\n### 用 rollup 打包工程\n\n----\n\n### 特点\n\n* 快速直接\n* 配置简单\n* tree-shaking\n\n----\n\n### 要求\n\n* 基于 ES6 Modules\n\n----\n\n### CommonJS 代码和现成 npm 包怎么办？\n\n----\n\n* `rollup-plugin-node-resolve`\n* `rollup-plugin-commonjs`\n\n----\n\n### 再加上 bublé\n\nrollup + bublé + CommonJS\n\n----\n\n参考 [weex-js-framework](https://github.com/alibaba/weex/tree/jsfm-feature-0.17)\n\n----\n\n### ES6 Modules 怎么转成 CommonJS？\n\n----\n\n[reify](https://github.com/benjamn/reify)\n\n----\n\n# End\n\nThanks\n"}}},d=(t(368),t(18)),component=Object(d.a)(m,(function(){var n=this.$createElement;return(this._self._c||n)("Slides",{attrs:{content:this.content}})}),[],!1,null,null,null);e.default=component.exports}}]);