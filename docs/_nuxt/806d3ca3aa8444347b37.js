(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{140:function(n,e,o){"use strict";var t={components:{MarkDisplay:o(141).a},props:{content:String}},r=o(17),component=Object(r.a)(t,function(){var n=this.$createElement;return(this._self._c||n)("MarkDisplay",{attrs:{markdown:this.content,autoBaseUrl:"",autoBlankTarget:"",autoFontSize:"",keyboardCtrl:"",urlHashCtrl:"",supportPreview:""}})},[],!1,null,null,null);e.a=component.exports},145:function(n,e,o){var content=o(165);"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,o(60).default)("77648127",content,!1,{sourceMap:!1})},164:function(n,e,o){"use strict";var t=o(145);o.n(t).a},165:function(n,e,o){(n.exports=o(59)(!1)).push([n.i,"body{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0;color:#2c3e50}",""])},199:function(n,e,o){"use strict";o.r(e);var t=o(140),r={components:{Slides:t.a},data:function(){return{content:"# ES6开发Node模块\n\n----\n\n## ES6\n\n----\n\n### 大家常用的 ES6 特性有哪些？\n\n----\n\n`import`/`export`、`class`、解构、arrow、`const`/`let`、template strings、快捷字面量、参数默认值\n\n----\n\n`Promise`、`Object.assign`？\n\n----\n\n`for...of`？\n\n----\n\nAny else？\n\n----\n\n### 你可能会遇到……\n\n----\n\n性能问题\n\n不知道背后的实现原理\n\n----\n\n全局/重复 polyfill 问题\n\n----\n\nbabel -> [bublé](https://buble.surge.sh/guide/)\n\n----\n\n“保守治疗”\n\n有限的特性支持，无插件和配置，快速精准\n\n----\n\n额外的\n\n为什么 bublé 不支持 ES6 Modules？\n\n----\n\n因为 Node 基于 CommonJS\n\n----\n\n## Node\n\n----\n\nNode vs Browser\n\n----\n\n* window/document\n* process.env\n\n----\n\n* 打包\n* CommonJS\n\n----\n\n延伸问题\n\n* unit test\n* 独立使用每个文件\n* tree-shaking ([rollup](http://rollupjs.org))\n\n----\n\n浏览器需要打包，打包需要 tree-shaking，tree-shaking 需要 ES6 Modules\n\n----\n\nNode 需要独立使用，独立使用需要 CommonJS\n\n----\n\n测试，要么独立单元测试，基于 CommonJS，要么打包整体测试\n\n----\n\n### 结论&选择\n\n----\n\n* Node 包果断 CommonJS\n* Browser 包优先考虑 ES6 Modules\n\n----\n\n### 如果两用怎么办？\n\n----\n\n### 必须找到解决方案\n\n----\n\n想办法让 CommonJS 和 ES Modules 互转\n\n----\n\n(然后就可以随便写了)\n\n----\n\n但还是先选择了 CommonJS 更直接有效\n\n----\n\n## 步骤\n\n----\n\n* `src/*.es` ES6 源代码\n* `lib/*.js` ES5 生成码\n\n----\n\n### npm script\n\n`buble -i src -o lib`\n\n----\n\n* `npm run prepare`\n* `npm run pretest`\n* `npm run prepublish`\n\n----\n\n### 设置发布文件\n\n* `.npmignore`\n* `files` in `package.json`\n\n----\n\n### 这才是开始\n\n* lint\n* test\n* ci\n\n善用 watch\n\n----\n\n参考 [weex-vdom-tester](https://github.com/weexteam/weex-vdom-tester)\n\n----\n\n## One More Thing\n\n----\n\n### Browser\n\nwebpack + babel\n\n----\n\n### 用 rollup 打包工程\n\n----\n\n### 特点\n\n* 快速直接\n* 配置简单\n* tree-shaking\n\n----\n\n### 要求\n\n* 基于 ES6 Modules\n\n----\n\n### CommonJS 代码和现成 npm 包怎么办？\n\n----\n\n* `rollup-plugin-node-resolve`\n* `rollup-plugin-commonjs`\n\n----\n\n### 再加上 bublé\n\nrollup + bublé + CommonJS\n\n----\n\n参考 [weex-js-framework](https://github.com/alibaba/weex/tree/jsfm-feature-0.17)\n\n----\n\n### ES6 Modules 怎么转成 CommonJS？\n\n----\n\n[reify](https://github.com/benjamn/reify)\n\n----\n\n# End\n\nThanks\n"}}},l=(o(164),o(17)),component=Object(l.a)(r,function(){var n=this.$createElement;return(this._self._c||n)("Slides",{attrs:{content:this.content}})},[],!1,null,null,null);e.default=component.exports}}]);